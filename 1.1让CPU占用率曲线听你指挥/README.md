# 1.1 让 CPU 占用率曲线听你指挥

## 问题

控制占有率曲线，即让 CPU 在"忙/闲"中按不同比例来回切换。那么有几个问题：

1. 多核怎么办？
2. “忙/闲” 精度多少？
3. CPU 不是只跑这一个程序，怎么计算自己该跑多久？

__吐个槽，书里代码错误真多啊。。。__

## 解决思路
* 多核问题：将进程/线程绑定在某个 CPU 上，可以在一定程度上控制单个CPU的使用率。我简单的绑定到 CPU2 上了（mask 为 0x04）

* “忙/闲”精度：跑多长时间，休息多长时间？
    1. “忙”可以让 cpu 跑个 while 循环，
	2. “忙”多久呢？可以用 GetTickCount() 来计算；“闲”可以用Sleep(idleTime)执行；
	3. CPU又不是你自己用，怎么实时计算呢？可以用PerformanceCounter 来获取。

### 代码说明

* [solution2.cpp]() 简单的跑 10ms sleep 10ms，效果如下：
[solution2 的CPU曲线效果]()
